# 用户登录接口

## 基本信息

- **接口标识**：`AUTH_LOGIN`
- **请求路径**：`POST /api/auth/login`
- **接口描述**：用户通过邮箱和密码进行登录，成功后返回用户信息和JWT令牌
- **认证要求**：无需认证（公开接口）
- **适用业务单元**：用户登录流程

## 请求参数

```json
{
  "email": "string",    // 用户邮箱地址
  "password": "string"  // 用户密码
}
```

## 参数验证规则

```json
{
  "email": {
    "required": true,
    "type": "email",
    "message": "请输入有效的邮箱地址"
  },
  "password": {
    "required": true,
    "type": "string",
    "minLength": 1,
    "message": "密码不能为空"
  }
}
```

## 响应示例

### 成功响应（状态码 200）

```json
{
  "code": 200,
  "message": "登录成功",
  "data": {
    "id": 1,
    "username": "testuser",
    "email": "test@example.com",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  },
  "timestamp": "2025-08-11T10:30:00Z"
}
```

### 失败响应

#### 邮箱或密码错误（401）

```json
{
  "code": 401,
  "message": "邮箱或密码错误",
  "data": null,
  "timestamp": "2025-08-11T10:31:00Z"
}
```

#### 参数验证失败（400）

```json
{
  "code": 400,
  "message": "邮箱不能为空",
  "data": null,
  "timestamp": "2025-08-11T10:32:00Z"
}
```

## 调试说明

### 测试用例1（成功场景）

- **请求体**：
  ```json
  {
    "email": "test@example.com",
    "password": "Test1234"
  }
  ```
- **预期响应**：
  - code=200
  - data包含用户信息和token

### 测试用例2（失败场景 - 邮箱不存在）

- **请求体**：
  ```json
  {
    "email": "nonexistent@example.com",
    "password": "Test1234"
  }
  ```
- **预期响应**：
  - code=401
  - message="邮箱或密码错误"

### 测试用例3（失败场景 - 密码错误）

- **请求体**：
  ```json
  {
    "email": "test@example.com",
    "password": "WrongPassword123"
  }
  ```
- **预期响应**：
  - code=401
  - message="邮箱或密码错误"

## 安全说明

- 密码在传输过程中使用HTTPS加密
- 服务器端不存储明文密码，使用BCrypt算法加密存储
- 登录成功后返回的JWT令牌有效期为24小时
- 客户端应妥善保存JWT令牌，用于后续请求的认证

## 错误码说明

| 错误码 | 说明 |
| ------ | ---- |
| 200 | 成功 |
| 400 | 请求参数错误 |
| 401 | 认证失败（邮箱或密码错误） |
| 500 | 服务器内部错误 |